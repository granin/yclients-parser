# –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é YClients –ü–∞—Ä—Å–µ—Ä–∞ –Ω–∞ TimeWeb VDS

**–ü–æ—à–∞–≥–æ–≤–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —É—Å—Ç–∞–Ω–æ–≤–∫–µ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ —Å–∏—Å—Ç–µ–º—ã –Ω–∞ VDS TimeWeb**

---

## üéØ **–û–±–∑–æ—Ä –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è**

–î–∞–Ω–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ–∫—Ä—ã–≤–∞–µ—Ç –ø–æ–ª–Ω—É—é —É—Å—Ç–∞–Ω–æ–≤–∫—É YClients –ø–∞—Ä—Å–µ—Ä–∞ –Ω–∞ VDS –æ—Ç TimeWeb, –≤–∫–ª—é—á–∞—è:
- –ü–æ–¥–≥–æ—Ç–æ–≤–∫—É —Å–µ—Ä–≤–µ—Ä–∞ Ubuntu 20.04+
- –£—Å—Ç–∞–Ω–æ–≤–∫—É –≤—Å–µ—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- –ù–∞—Å—Ç—Ä–æ–π–∫—É –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö Supabase
- –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∑–∞–ø—É—Å–∫–∞
- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ

---

## üñ•Ô∏è **–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –°–µ—Ä–≤–µ—Ä—É**

### **–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ VDS**
- **OS**: Ubuntu 20.04 LTS –∏–ª–∏ –Ω–æ–≤–µ–µ
- **CPU**: 2 vCPU (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
- **RAM**: 4GB (–º–∏–Ω–∏–º—É–º 2GB)
- **Storage**: 20GB SSD (–º–∏–Ω–∏–º—É–º 10GB)
- **Network**: 100 Mbps+

### **–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π TimeWeb –¢–∞—Ä–∏—Ñ**
- **VDS-2** –∏–ª–∏ –≤—ã—à–µ
- –ü—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω–∞—è Ubuntu 20.04
- SSH –¥–æ—Å—Ç—É–ø –≤–∫–ª—é—á–µ–Ω

---

## üöÄ **–®–∞–≥ 1: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ VDS**

### **1.1 –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –°–µ—Ä–≤–µ—Ä—É**
```bash
# –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –ø–æ SSH (–∑–∞–º–µ–Ω–∏—Ç–µ IP –Ω–∞ –≤–∞—à)
ssh root@your-vds-ip-address

# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã
apt update && apt upgrade -y
```

### **1.2 –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –°–∏—Å—Ç–µ–º–Ω—ã—Ö –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π**
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Python 3.11 –∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö –ø–∞–∫–µ—Ç–æ–≤
apt install -y python3.11 python3.11-pip python3.11-venv
apt install -y git curl wget nano htop

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –¥–ª—è Playwright
apt install -y libnss3 libatk-bridge2.0-0 libdrm2 libxkbcommon0 libgbm1 libxss1 libasound2

# –°–æ–∑–¥–∞–Ω–∏–µ —Å–∏–º–≤–æ–ª–∏—á–µ—Å–∫–∏—Ö —Å—Å—ã–ª–æ–∫
ln -sf /usr/bin/python3.11 /usr/bin/python3
ln -sf /usr/bin/pip3 /usr/bin/pip
```

### **1.3 –°–æ–∑–¥–∞–Ω–∏–µ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–ª—è –ü—Ä–∏–ª–æ–∂–µ–Ω–∏—è**
```bash
# –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è yclients
useradd -m -s /bin/bash yclients
usermod -aG sudo yclients

# –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è yclients
su - yclients
```

---

## üì¶ **–®–∞–≥ 2: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ü—Ä–∏–ª–æ–∂–µ–Ω–∏—è**

### **2.1 –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è**
```bash
# –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞
cd /home/yclients
git clone https://github.com/–≤–∞—à-–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å/yclients-parser.git
cd yclients-parser

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ø—Ä–æ–µ–∫—Ç–∞
ls -la
```

### **2.2 –°–æ–∑–¥–∞–Ω–∏–µ –í–∏—Ä—Ç—É–∞–ª—å–Ω–æ–π –°—Ä–µ–¥—ã**
```bash
# –°–æ–∑–¥–∞–Ω–∏–µ –∏ –∞–∫—Ç–∏–≤–∞—Ü–∏—è venv
python3 -m venv venv
source venv/bin/activate

# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ pip
pip install --upgrade pip
```

### **2.3 –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Python –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π**
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –∏–∑ requirements.txt
pip install -r requirements.txt

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –±—Ä–∞—É–∑–µ—Ä–æ–≤ –¥–ª—è Playwright
playwright install chromium

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏
playwright --version
python3 -c "import playwright; print('‚úÖ Playwright —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω')"
```

---

## ‚öôÔ∏è **–®–∞–≥ 3: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏**

### **3.1 –°–æ–∑–¥–∞–Ω–∏–µ –§–∞–π–ª–∞ Environment**
```bash
# –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —à–∞–±–ª–æ–Ω–∞
cp .env.template .env

# –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫
nano .env
```

### **3.2 –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è .env –§–∞–π–ª–∞**
```bash
# –û—Å–Ω–æ–≤–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ API
API_HOST=0.0.0.0
API_PORT=8000
API_KEY=–≤–∞—à_–±–µ–∑–æ–ø–∞—Å–Ω—ã–π_–∫–ª—é—á_min_16_—Å–∏–º–≤–æ–ª–æ–≤

# URL –¥–ª—è –ø–∞—Ä—Å–∏–Ω–≥–∞ (Pavel's venues)
PARSE_URLS=https://n1165596.yclients.com/company/1109937/record-type?o=,https://n1308467.yclients.com/company/1192304/record-type?o=,https://b861100.yclients.com/company/804153/personal/select-time?o=m-1,https://b1009933.yclients.com/company/936902/personal/select-time?o=,https://b918666.yclients.com/company/855029/personal/menu?o=m-1

# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ Supabase
SUPABASE_URL=https://–≤–∞—à-–ø—Ä–æ–µ–∫—Ç-id.supabase.co
SUPABASE_KEY=–≤–∞—à_–ø—É–±–ª–∏—á–Ω—ã–π_–∫–ª—é—á_supabase

# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–∞—Ä—Å–∏–Ω–≥–∞
PARSE_INTERVAL=600  # 10 –º–∏–Ω—É—Ç
```

### **3.3 –ü–æ–ª—É—á–µ–Ω–∏–µ Supabase Credentials**

**–°–æ–∑–¥–∞–Ω–∏–µ –ü—Ä–æ–µ–∫—Ç–∞ –≤ Supabase:**
1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ https://supabase.com
2. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç
3. –í Settings ‚Üí API –ø–æ–ª—É—á–∏—Ç–µ:
   - **URL**: `https://–≤–∞—à-–ø—Ä–æ–µ–∫—Ç-id.supabase.co`
   - **anon public key**: –¥–ª–∏–Ω–Ω—ã–π JWT —Ç–æ–∫–µ–Ω

**–ù–∞—Å—Ç—Ä–æ–π–∫–∞ RLS (Row Level Security):**
```sql
-- –í Supabase SQL Editor –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:
ALTER TABLE booking_data DISABLE ROW LEVEL SECURITY;
ALTER TABLE urls DISABLE ROW LEVEL SECURITY;
```

---

## üóÑÔ∏è **–®–∞–≥ 4: –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ë–∞–∑–∞ –î–∞–Ω–Ω—ã—Ö**

### **4.1 –°–æ–∑–¥–∞–Ω–∏–µ –¢–∞–±–ª–∏—Ü**
```bash
# –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
python3 scripts/setup_db.py

# –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:
# ‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ Supabase —É—Å–ø–µ—à–Ω–æ
# ‚úÖ –¢–∞–±–ª–∏—Ü–∞ booking_data —Å–æ–∑–¥–∞–Ω–∞
# ‚úÖ –¢–∞–±–ª–∏—Ü–∞ urls —Å–æ–∑–¥–∞–Ω–∞
```

### **4.2 –ü—Ä–æ–≤–µ—Ä–∫–∞ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏—è**
```bash
# –¢–µ—Å—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
python3 -c "
from src.database.db_manager import DatabaseManager
import asyncio

async def test_db():
    db = DatabaseManager()
    await db.initialize()
    print('‚úÖ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –ø–æ–¥–∫–ª—é—á–µ–Ω–∞')

asyncio.run(test_db())
"
```

---

## üß™ **–®–∞–≥ 5: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –£—Å—Ç–∞–Ω–æ–≤–∫–∏**

### **5.1 –ó–∞–ø—É—Å–∫ –¢–µ—Å—Ç–æ–≤**
```bash
# –ê–∫—Ç–∏–≤–∞—Ü–∏—è –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–π —Å—Ä–µ–¥—ã (–µ—Å–ª–∏ –Ω–µ –∞–∫—Ç–∏–≤–Ω–∞)
source venv/bin/activate

# –ó–∞–ø—É—Å–∫ unit —Ç–µ—Å—Ç–æ–≤
python3 -m pytest tests/test_parser_units.py -v

# –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç: 15 passed

# –ó–∞–ø—É—Å–∫ regression —Ç–µ—Å—Ç–æ–≤
python3 -m pytest tests/test_no_demo_data.py -v

# –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç: 7 passed
```

### **5.2 –¢–µ—Å—Ç–æ–≤—ã–π –ó–∞–ø—É—Å–∫ –ü–∞—Ä—Å–µ—Ä–∞**
```bash
# –¢–µ—Å—Ç –∏–º–ø–æ—Ä—Ç–æ–≤
python3 -c "
from src.parser.parser_router import ParserRouter
from src.parser.yclients_parser import YClientsParser
print('‚úÖ –í—Å–µ –∏–º–ø–æ—Ä—Ç—ã —Ä–∞–±–æ—Ç–∞—é—Ç')
"

# –¢–µ—Å—Ç –æ—Å–Ω–æ–≤–Ω–æ–≥–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞
python3 -c "
import asyncio
from lightweight_parser import run_parser

async def test():
    result = await run_parser()
    print(f'üìä –†–µ–∑—É–ª—å—Ç–∞—Ç –ø–∞—Ä—Å–µ—Ä–∞: {result}')

asyncio.run(test())
"
```

---

## üîß **–®–∞–≥ 6: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ê–≤—Ç–æ–∑–∞–ø—É—Å–∫–∞**

### **6.1 –°–æ–∑–¥–∞–Ω–∏–µ Systemd –°–µ—Ä–≤–∏—Å–∞**
```bash
# –°–æ–∑–¥–∞–Ω–∏–µ —Ñ–∞–π–ª–∞ —Å–µ—Ä–≤–∏—Å–∞ (–ø–æ–¥ root)
sudo nano /etc/systemd/system/yclients-parser.service
```

**–°–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞ —Å–µ—Ä–≤–∏—Å–∞:**
```ini
[Unit]
Description=YClients Parser Service
After=network.target
Wants=network.target

[Service]
Type=simple
User=yclients
Group=yclients
WorkingDirectory=/home/yclients/yclients-parser
Environment=PATH=/home/yclients/yclients-parser/venv/bin
ExecStart=/home/yclients/yclients-parser/venv/bin/python lightweight_parser.py
Restart=always
RestartSec=10

# –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
StandardOutput=file:/home/yclients/yclients-parser/logs/service.log
StandardError=file:/home/yclients/yclients-parser/logs/service-error.log

[Install]
WantedBy=multi-user.target
```

### **6.2 –ê–∫—Ç–∏–≤–∞—Ü–∏—è –°–µ—Ä–≤–∏—Å–∞**
```bash
# –°–æ–∑–¥–∞–Ω–∏–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –¥–ª—è –ª–æ–≥–æ–≤
sudo mkdir -p /home/yclients/yclients-parser/logs
sudo chown yclients:yclients /home/yclients/yclients-parser/logs

# –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ systemd –∏ –∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–∞
sudo systemctl daemon-reload
sudo systemctl enable yclients-parser
sudo systemctl start yclients-parser

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
sudo systemctl status yclients-parser
```

---

## üîç **–®–∞–≥ 7: –ü—Ä–æ–≤–µ—Ä–∫–∞ –†–∞–±–æ—Ç—ã**

### **7.1 –ü—Ä–æ–≤–µ—Ä–∫–∞ API –≠–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤**
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã
curl http://localhost:8000/

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ –ø–∞—Ä—Å–µ—Ä–∞
curl http://localhost:8000/parser/status

# –ó–∞–ø—É—Å–∫ –ø–∞—Ä—Å–∏–Ω–≥–∞ –≤—Ä—É—á–Ω—É—é
curl -X POST http://localhost:8000/parser/run

# –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
curl http://localhost:8000/api/booking-data
```

### **7.2 –ü—Ä–æ–≤–µ—Ä–∫–∞ –õ–æ–≥–æ–≤**
```bash
# –õ–æ–≥–∏ —Å–µ—Ä–≤–∏—Å–∞
sudo journalctl -u yclients-parser -f

# –õ–æ–≥–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
tail -f /home/yclients/yclients-parser/logs/service.log

# –ü–æ–∏—Å–∫ –æ—à–∏–±–æ–∫
grep "ERROR" /home/yclients/yclients-parser/logs/service.log
```

### **7.3 –ü—Ä–æ–≤–µ—Ä–∫–∞ –ü–∞—Ä—Å–∏–Ω–≥–∞**
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ —á—Ç–æ –¥–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è
curl http://localhost:8000/api/booking-data | jq '.data | length'

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è –¥–µ–º–æ-–¥–∞–Ω–Ω—ã—Ö
curl http://localhost:8000/api/booking-data | grep -c "–£–ª—å—Ç—Ä–∞–ø–∞–Ω–æ—Ä–∞–º–∏–∫"
# –î–æ–ª–∂–Ω–æ –±—ã—Ç—å 0, –µ—Å–ª–∏ —Ç–æ–ª—å–∫–æ –Ω–µ –ø–∞—Ä—Å–∏—Ç—Å—è —Ä–µ–∞–ª—å–Ω–∞—è –ø–ª–æ—â–∞–¥–∫–∞ –ù–∞–≥–∞—Ç–∏–Ω—Å–∫–∞—è
```

---

## üîê **–®–∞–≥ 8: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏**

### **8.1 –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Firewall**
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ UFW
sudo ufw allow ssh
sudo ufw allow 8000
sudo ufw --force enable

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
sudo ufw status
```

### **8.2 –ù–∞—Å—Ç—Ä–æ–π–∫–∞ SSL (–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)**
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Nginx –¥–ª—è –ø—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏—è
sudo apt install -y nginx certbot python3-certbot-nginx

# –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ Nginx
sudo nano /etc/nginx/sites-available/yclients-parser
```

**–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Nginx:**
```nginx
server {
    listen 80;
    server_name your-domain.com;

    location / {
        proxy_pass http://127.0.0.1:8000;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
    }
}
```

### **8.3 –ê–∫—Ç–∏–≤–∞—Ü–∏—è SSL**
```bash
# –ê–∫—Ç–∏–≤–∞—Ü–∏—è —Å–∞–π—Ç–∞
sudo ln -s /etc/nginx/sites-available/yclients-parser /etc/nginx/sites-enabled/
sudo nginx -t
sudo systemctl reload nginx

# –ü–æ–ª—É—á–µ–Ω–∏–µ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞
sudo certbot --nginx -d your-domain.com
```

---

## üìä **–®–∞–≥ 9: –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –û–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ**

### **9.1 –°–æ–∑–¥–∞–Ω–∏–µ –°–∫—Ä–∏–ø—Ç–æ–≤ –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞**
```bash
# –°–∫—Ä–∏–ø—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –∑–¥–æ—Ä–æ–≤—å—è —Å–∏—Å—Ç–µ–º—ã
nano /home/yclients/yclients-parser/scripts/health_check.sh
```

**–°–æ–¥–µ—Ä–∂–∏–º–æ–µ health_check.sh:**
```bash
#!/bin/bash

echo "ü©∫ –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è YClients –ø–∞—Ä—Å–µ—Ä–∞"
echo "======================================"

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–µ—Ä–≤–∏—Å–∞
echo "üìã –°—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–∏—Å–∞:"
systemctl is-active yclients-parser

# –ü—Ä–æ–≤–µ—Ä–∫–∞ API
echo "üåê –ü—Ä–æ–≤–µ—Ä–∫–∞ API:"
curl -s http://localhost:8000/parser/status | jq .

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
echo "üóÑÔ∏è –ü–æ—Å–ª–µ–¥–Ω–∏–µ –∑–∞–ø–∏—Å–∏ –≤ –ë–î:"
curl -s http://localhost:8000/api/booking-data?limit=1 | jq '.data | length'

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤
echo "üíæ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤:"
ps aux | grep python | grep -v grep
```

### **9.2 –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Cron –¥–ª—è –û–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—è**
```bash
# –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∑–∞–¥–∞—á –≤ crontab
crontab -e

# –î–æ–±–∞–≤–∏—Ç—å —Å–ª–µ–¥—É—é—â–∏–µ —Å—Ç—Ä–æ–∫–∏:
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è –∫–∞–∂–¥—ã–π —á–∞—Å
0 * * * * /home/yclients/yclients-parser/scripts/health_check.sh >> /home/yclients/yclients-parser/logs/health.log 2>&1

# –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –ª–æ–≥–æ–≤ –∫–∞–∂–¥—ã–π –¥–µ–Ω—å
0 2 * * * find /home/yclients/yclients-parser/logs -name "*.log" -type f -mtime +7 -delete

# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –±—Ä–∞—É–∑–µ—Ä–æ–≤ Playwright –µ–∂–µ–Ω–µ–¥–µ–ª—å–Ω–æ
0 3 * * 0 cd /home/yclients/yclients-parser && source venv/bin/activate && playwright install chromium
```

---

## üö® **–†–µ—à–µ–Ω–∏–µ –ü—Ä–æ–±–ª–µ–º**

### **–ü—Ä–æ–±–ª–µ–º–∞ 1: –°–µ—Ä–≤–∏—Å –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è**
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
sudo systemctl status yclients-parser

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
sudo journalctl -u yclients-parser -n 50

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞
ls -la /home/yclients/yclients-parser/
```

### **–ü—Ä–æ–±–ª–µ–º–∞ 2: –û—à–∏–±–∫–∏ Playwright**
```bash
# –ü–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∫–∞ –±—Ä–∞—É–∑–µ—Ä–æ–≤
cd /home/yclients/yclients-parser
source venv/bin/activate
playwright install chromium

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
apt install -y libnss3 libatk-bridge2.0-0 libdrm2 libxkbcommon0 libgbm1 libxss1 libasound2
```

### **–ü—Ä–æ–±–ª–µ–º–∞ 3: –ù–µ—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ Supabase**
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö —Å—Ä–µ–¥—ã
cd /home/yclients/yclients-parser
cat .env | grep SUPABASE

# –¢–µ—Å—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
source venv/bin/activate
python3 -c "
import os
print('URL:', os.environ.get('SUPABASE_URL'))
print('KEY:', os.environ.get('SUPABASE_KEY')[:20] + '...')
"
```

---

## ‚úÖ **–ö–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–π –°–ø–∏—Å–æ–∫ –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è**

### **–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞**
- [ ] VDS —Å–æ–∑–¥–∞–Ω –∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- [ ] SSH –¥–æ—Å—Ç—É–ø —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] Python 3.11 —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
- [ ] Git –¥–æ—Å—Ç—É–ø–µ–Ω

### **–£—Å—Ç–∞–Ω–æ–≤–∫–∞**
- [ ] –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π —Å–∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω
- [ ] –í–∏—Ä—Ç—É–∞–ª—å–Ω–∞—è —Å—Ä–µ–¥–∞ —Å–æ–∑–¥–∞–Ω–∞
- [ ] –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
- [ ] Playwright –±—Ä–∞—É–∑–µ—Ä—ã —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã

### **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è**
- [ ] .env —Ñ–∞–π–ª –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- [ ] Supabase –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–∞
- [ ] –¢–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç —É—Å–ø–µ—à–Ω–æ

### **–ê–≤—Ç–æ–∑–∞–ø—É—Å–∫**
- [ ] Systemd —Å–µ—Ä–≤–∏—Å —Å–æ–∑–¥–∞–Ω
- [ ] –°–µ—Ä–≤–∏—Å –∑–∞–ø—É—â–µ–Ω –∏ –∞–∫—Ç–∏–≤–µ–Ω
- [ ] –ê–≤—Ç–æ–∑–∞–ø—É—Å–∫ –≤–∫–ª—é—á–µ–Ω
- [ ] –õ–æ–≥–∏ –ø–∏—à—É—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

### **–ü—Ä–æ–≤–µ—Ä–∫–∞**
- [ ] API —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã –æ—Ç–≤–µ—á–∞—é—Ç
- [ ] –ü–∞—Ä—Å–∏–Ω–≥ —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –î–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –ë–î
- [ ] –î–µ–º–æ-–¥–∞–Ω–Ω—ã–µ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç
- [ ] –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

### **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**
- [ ] Firewall –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- [ ] SSL –Ω–∞—Å—Ç—Ä–æ–µ–Ω (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- [ ] –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å yclients —Å–æ–∑–¥–∞–Ω
- [ ] –ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω—ã

**üéâ –ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º! YClients –ø–∞—Ä—Å–µ—Ä —É—Å–ø–µ—à–Ω–æ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç –Ω–∞ TimeWeb VDS!**

---

## üìû **–ü–æ–¥–¥–µ—Ä–∂–∫–∞**

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º:

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏**: `sudo journalctl -u yclients-parser -f`
2. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫—É**: `bash scripts/health_check.sh`
3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å API**: `curl http://localhost:8000/parser/status`
4. **–ò–∑—É—á–∏—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é**: —Ñ–∞–π–ª—ã README.md –∏ –¢–ï–•–ü–û–î–î–ï–†–ñ–ö–ê.md