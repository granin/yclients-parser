# –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –ü–æ–¥–¥–µ—Ä–∂–∫–∞ YClients –ü–∞—Ä—Å–µ—Ä–∞

**–†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Ä–µ—à–µ–Ω–∏—é –ø—Ä–æ–±–ª–µ–º, –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–µ –∏ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—é —Å–∏—Å—Ç–µ–º—ã**

---

## üÜò **–ë—ã—Å—Ç—Ä–∞—è –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞**

### **–ü—Ä–æ–≤–µ—Ä–∫–∞ –û–±—â–µ–≥–æ –°—Ç–∞—Ç—É—Å–∞ –°–∏—Å—Ç–µ–º—ã**
```bash
# –°—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–∏—Å–∞
sudo systemctl status yclients-parser

# API –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å
curl http://localhost:8000/parser/status

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤
ps aux | grep python | grep yclients

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤
htop
```

### **–≠–∫—Å–ø—Ä–µ—Å—Å –ü—Ä–æ–≤–µ—Ä–∫–∞**
```bash
# –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª /home/yclients/quick_check.sh
#!/bin/bash
echo "üöÄ YClients Parser - –ë—ã—Å—Ç—Ä–∞—è –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞"
echo "========================================"
echo "üìÖ $(date)"
echo ""

echo "üîß –°—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–∏—Å–∞:"
systemctl is-active yclients-parser

echo "üåê API —Å—Ç–∞—Ç—É—Å:"
curl -s http://localhost:8000/parser/status | jq .status 2>/dev/null || echo "API –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω"

echo "üíæ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –¥–∏—Å–∫–∞:"
df -h /home/yclients

echo "üß† –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ RAM:"
free -h

echo "‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞"
```

---

## ‚ùå **–ß–∞—Å—Ç—ã–µ –ü—Ä–æ–±–ª–µ–º—ã –∏ –†–µ—à–µ–Ω–∏—è**

### **1. –°–µ—Ä–≤–∏—Å –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è**

#### **–°–∏–º–ø—Ç–æ–º—ã:**
```bash
$ sudo systemctl status yclients-parser
‚óè yclients-parser.service - YClients Parser Service
   Loaded: loaded
   Active: failed (Result: exit-code)
```

#### **–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞:**
```bash
# –ü–æ–¥—Ä–æ–±–Ω—ã–µ –ª–æ–≥–∏ –æ—à–∏–±–æ–∫
sudo journalctl -u yclients-parser -n 50 --no-pager

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–∞–π–ª–∞ —Å–µ—Ä–≤–∏—Å–∞
sudo systemctl cat yclients-parser

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞
ls -la /home/yclients/yclients-parser/
ls -la /home/yclients/yclients-parser/venv/bin/python
```

#### **–†–µ—à–µ–Ω–∏—è:**

**–ü—Ä–æ–±–ª–µ–º–∞ —Å –ø—Ä–∞–≤–∞–º–∏ –¥–æ—Å—Ç—É–ø–∞:**
```bash
# –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤–ª–∞–¥–µ–ª—å—Ü–∞ —Ñ–∞–π–ª–æ–≤
sudo chown -R yclients:yclients /home/yclients/yclients-parser/

# –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–∞–≤ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è
chmod +x /home/yclients/yclients-parser/lightweight_parser.py
```

**–ü—Ä–æ–±–ª–µ–º–∞ —Å –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–π —Å—Ä–µ–¥–æ–π:**
```bash
cd /home/yclients/yclients-parser
rm -rf venv
python3 -m venv venv
source venv/bin/activate
pip install -r requirements.txt
playwright install chromium
```

**–ü—Ä–æ–±–ª–µ–º–∞ —Å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ —Å—Ä–µ–¥—ã:**
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è .env —Ñ–∞–π–ª–∞
ls -la /home/yclients/yclients-parser/.env

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ
cat /home/yclients/yclients-parser/.env | grep -v KEY
```

---

### **2. –û—à–∏–±–∫–∏ Playwright/–ë—Ä–∞—É–∑–µ—Ä–∞**

#### **–°–∏–º–ø—Ç–æ–º—ã:**
```
playwright._impl._errors.Error: BrowserType.launch: Executable doesn't exist
‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó
‚ïë Looks like Playwright was just installed.        ‚ïë
‚ïë Please run the following command to download new ‚ïë
‚ïë browsers: playwright install                     ‚ïë
‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù
```

#### **–†–µ—à–µ–Ω–∏—è:**

**–ü–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∫–∞ –±—Ä–∞—É–∑–µ—Ä–æ–≤:**
```bash
cd /home/yclients/yclients-parser
source venv/bin/activate

# –ü–æ–ª–Ω–∞—è –ø–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∫–∞
playwright uninstall
playwright install chromium

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏
playwright --version
ls ~/.cache/ms-playwright/
```

**–ü—Ä–æ–±–ª–µ–º—ã —Å —Å–∏—Å—Ç–µ–º–Ω—ã–º–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏:**
```bash
# Ubuntu/Debian - —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –¥–ª—è –±—Ä–∞—É–∑–µ—Ä–æ–≤
sudo apt update
sudo apt install -y \
    libnss3 \
    libatk-bridge2.0-0 \
    libdrm2 \
    libxkbcommon0 \
    libgbm1 \
    libxss1 \
    libasound2 \
    libatspi2.0-0 \
    libgtk-3-0

# –ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã –æ—Å—Ç–∞—é—Ç—Å—è - —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤—Å–µ—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
sudo apt install -y $(playwright install-deps chromium 2>&1 | grep "apt install" | cut -d' ' -f3-)
```

**–ü—Ä–æ–±–ª–µ–º—ã —Å –ø—Ä–∞–≤–∞–º–∏ –¥–æ—Å—Ç—É–ø–∞ –∫ –±—Ä–∞—É–∑–µ—Ä–∞–º:**
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫—ç—à–∞ –±—Ä–∞—É–∑–µ—Ä–æ–≤
ls -la ~/.cache/ms-playwright/

# –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–∞–≤
chmod -R 755 ~/.cache/ms-playwright/
```

---

### **3. –û—à–∏–±–∫–∏ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ Supabase**

#### **–°–∏–º–ø—Ç–æ–º—ã:**
```
ERROR: Invalid URL
ERROR: Unauthorized
ERROR: Could not connect to Supabase
```

#### **–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞:**
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö —Å—Ä–µ–¥—ã
cd /home/yclients/yclients-parser
source venv/bin/activate
python3 -c "
import os
print('SUPABASE_URL:', os.environ.get('SUPABASE_URL'))
print('SUPABASE_KEY:', os.environ.get('SUPABASE_KEY', '–ù–ï –£–°–¢–ê–ù–û–í–õ–ï–ù')[:20] + '...')
"

# –¢–µ—Å—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
python3 -c "
from src.database.db_manager import DatabaseManager
import asyncio

async def test():
    try:
        db = DatabaseManager()
        await db.initialize()
        print('‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ Supabase —É—Å–ø–µ—à–Ω–æ')
    except Exception as e:
        print(f'‚ùå –û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è: {e}')

asyncio.run(test())
"
```

#### **–†–µ—à–µ–Ω–∏—è:**

**–ü—Ä–æ–≤–µ—Ä–∫–∞ URL –∏ –∫–ª—é—á–µ–π:**
```bash
# URL –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤ —Ñ–æ—Ä–º–∞—Ç–µ: https://project-id.supabase.co
# –ö–ª—é—á –¥–æ–ª–∂–µ–Ω –Ω–∞—á–∏–Ω–∞—Ç—å—Å—è —Å: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9

# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ .env —Ñ–∞–π–ª–∞
nano /home/yclients/yclients-parser/.env

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–æ—Ä–º–∞—Ç–∞
grep SUPABASE_URL /home/yclients/yclients-parser/.env
grep SUPABASE_KEY /home/yclients/yclients-parser/.env
```

**–ü—Ä–æ–±–ª–µ–º—ã —Å RLS (Row Level Security):**
```sql
-- –í Supabase SQL Editor –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:
ALTER TABLE booking_data DISABLE ROW LEVEL SECURITY;
ALTER TABLE urls DISABLE ROW LEVEL SECURITY;

-- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ RLS
SELECT schemaname, tablename, rowsecurity 
FROM pg_tables 
WHERE tablename IN ('booking_data', 'urls');
```

**–ü—Ä–æ–±–ª–µ–º—ã —Å –ø—Ä–∞–≤–∞–º–∏ API –∫–ª—é—á–∞:**
1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ Supabase Dashboard
2. Settings ‚Üí API
3. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ **anon/public key** (–Ω–µ service key)
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ RLS –æ—Ç–∫–ª—é—á–µ–Ω–∞ –¥–ª—è –≤–∞—à–∏—Ö —Ç–∞–±–ª–∏—Ü

---

### **4. –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –î–∞–Ω–Ω—ã—Ö –ü–æ—Å–ª–µ –ü–∞—Ä—Å–∏–Ω–≥–∞**

#### **–°–∏–º–ø—Ç–æ–º—ã:**
```
curl http://localhost:8000/api/booking-data
{"data": [], "count": 0}
```

#### **–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞:**
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤ –ø–∞—Ä—Å–∏–Ω–≥–∞
sudo journalctl -u yclients-parser -f | grep -i "–ø–∞—Ä—Å–∏–Ω–≥\|parsing\|extracted"

# –†—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫ –ø–∞—Ä—Å–µ—Ä–∞ —Å –ª–æ–≥–∞–º–∏
cd /home/yclients/yclients-parser
source venv/bin/activate
python3 -c "
import asyncio
from lightweight_parser import run_parser

async def test():
    result = await run_parser()
    print(f'–†–µ–∑—É–ª—å—Ç–∞—Ç: {result}')

asyncio.run(test())
"

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ URL
curl -I https://n1165596.yclients.com/company/1109937/record-type?o=
```

#### **–†–µ—à–µ–Ω–∏—è:**

**–ü—Ä–æ–≤–µ—Ä–∫–∞ URL –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:**
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ PARSE_URLS
grep PARSE_URLS /home/yclients/yclients-parser/.env

# –¢–µ—Å—Ç –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ URL
python3 -c "
from src.parser.parser_router import ParserRouter
from unittest.mock import Mock

router = ParserRouter(Mock())
url = 'https://n1165596.yclients.com/company/1109937/record-type?o='
print(f'YClients URL: {router.is_yclients_url(url)}')
"
```

**–ü—Ä–æ–≤–µ—Ä–∫–∞ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏:**
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ —á—Ç–æ URL –ø—Ä–∞–≤–∏–ª—å–Ω–æ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∏—Ä—É—é—Ç—Å—è
python3 -c "
from src.parser.parser_router import ParserRouter
from unittest.mock import Mock

router = ParserRouter(Mock())

urls = [
    'https://n1165596.yclients.com/company/1109937/record-type?o=',
    'https://n1308467.yclients.com/company/1192304/record-type?o=',
    'https://invalid.com'
]

for url in urls:
    is_yclients = router.is_yclients_url(url)
    print(f'{url[:50]}... -> {"Playwright" if is_yclients else "Lightweight"}')
"
```

**–ü—Ä–æ–±–ª–µ–º—ã —Å —Å–µ–ª–µ–∫—Ç–æ—Ä–∞–º–∏ YClients:**
- YClients –º–æ–∂–µ—Ç –∏–∑–º–µ–Ω–∏—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Å–∞–π—Ç–∞
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –Ω–∞ –æ—à–∏–±–∫–∏ —Å–µ–ª–µ–∫—Ç–æ—Ä–æ–≤
- –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –æ–±–Ω–æ–≤–∏—Ç–µ —Å–µ–ª–µ–∫—Ç–æ—Ä—ã –≤ –∫–æ–¥–µ

---

### **5. –î–µ–º–æ-–î–∞–Ω–Ω—ã–µ –≤ –†–µ–∑—É–ª—å—Ç–∞—Ç–∞—Ö**

#### **–°–∏–º–ø—Ç–æ–º—ã:**
```bash
curl http://localhost:8000/api/booking-data | grep "–£–ª—å—Ç—Ä–∞–ø–∞–Ω–æ—Ä–∞–º–∏–∫"
# –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ, —Ö–æ—Ç—è –Ω–µ –¥–æ–ª–∂–Ω–æ (–µ—Å–ª–∏ —Ç–æ–ª—å–∫–æ –Ω–µ –ø–∞—Ä—Å–∏—Ç—Å—è —Ä–µ–∞–ª—å–Ω–∞—è –ù–∞–≥–∞—Ç–∏–Ω—Å–∫–∞—è)
```

#### **–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞:**
```bash
# –ó–∞–ø—É—Å–∫ regression —Ç–µ—Å—Ç–æ–≤
cd /home/yclients/yclients-parser
source venv/bin/activate
python3 -m pytest tests/test_no_demo_data.py -v

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–¥–∞ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –¥–µ–º–æ-–¥–∞–Ω–Ω—ã—Ö
grep -r "–£–ª—å—Ç—Ä–∞–ø–∞–Ω–æ—Ä–∞–º–∏–∫" src/
grep -r "generate_demo" src/
```

#### **–†–µ—à–µ–Ω–∏—è:**

**–≠—Ç–æ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞ - —Å–∏—Å—Ç–µ–º–∞ –Ω–µ –¥–æ–ª–∂–Ω–∞ –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å –¥–µ–º–æ-–¥–∞–Ω–Ω—ã–µ!**

```bash
# –ù–µ–º–µ–¥–ª–µ–Ω–Ω–∞—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–∏—Å—Ç–µ–º—ã
sudo systemctl stop yclients-parser

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–µ—Ä—Å–∏–∏ –∫–æ–¥–∞
git status
git log --oneline -5

# –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –≤–µ—Ä—Å–∏–∏
git checkout main
git pull origin main

# –ü–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∫–∞
pip install -r requirements.txt
sudo systemctl start yclients-parser
```

---

## üîç **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –ü—Ä–æ—Ñ–∏–ª–∞–∫—Ç–∏–∫–∞**

### **–ï–∂–µ–¥–Ω–µ–≤–Ω–∞—è –ü—Ä–æ–≤–µ—Ä–∫–∞**
```bash
# –°–æ–∑–¥–∞–π—Ç–µ —Å–∫—Ä–∏–ø—Ç /home/yclients/daily_check.sh
#!/bin/bash
DATE=$(date '+%Y-%m-%d %H:%M:%S')
echo "[$DATE] üìä –ï–∂–µ–¥–Ω–µ–≤–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ YClients Parser"

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ —Å–µ—Ä–≤–∏—Å–∞
if systemctl is-active --quiet yclients-parser; then
    echo "‚úÖ –°–µ—Ä–≤–∏—Å –∞–∫—Ç–∏–≤–µ–Ω"
else
    echo "‚ùå –°–µ—Ä–≤–∏—Å –Ω–µ –∞–∫—Ç–∏–≤–µ–Ω"
    sudo systemctl restart yclients-parser
fi

# –ü—Ä–æ–≤–µ—Ä–∫–∞ API
API_STATUS=$(curl -s http://localhost:8000/parser/status | jq -r .status 2>/dev/null)
if [ "$API_STATUS" = "–≥–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ" ]; then
    echo "‚úÖ API —Ä–∞–±–æ—Ç–∞–µ—Ç"
else
    echo "‚ùå –ü—Ä–æ–±–ª–µ–º—ã —Å API: $API_STATUS"
fi

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–∞–Ω–Ω—ã—Ö –≤ –ë–î
DATA_COUNT=$(curl -s http://localhost:8000/api/booking-data | jq '.count' 2>/dev/null)
echo "üìä –ó–∞–ø–∏—Å–µ–π –≤ –ë–î: $DATA_COUNT"

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–∏—Å–∫–æ–≤–æ–≥–æ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞
DISK_USAGE=$(df /home/yclients | tail -1 | awk '{print $5}')
echo "üíæ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –¥–∏—Å–∫–∞: $DISK_USAGE"

if [ "${DISK_USAGE%?}" -gt 80 ]; then
    echo "‚ö†Ô∏è  –í–Ω–∏–º–∞–Ω–∏–µ: –ú–∞–ª–æ –º–µ—Å—Ç–∞ –Ω–∞ –¥–∏—Å–∫–µ!"
    # –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –ª–æ–≥–æ–≤
    find /home/yclients/yclients-parser/logs -name "*.log" -type f -mtime +7 -delete
fi

echo "‚úÖ –ï–∂–µ–¥–Ω–µ–≤–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞"
echo ""
```

### **–ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω–æ–µ –û–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ**
```bash
# –î–æ–±–∞–≤—å—Ç–µ –≤ crontab (crontab -e):
0 2 * * 1 /home/yclients/weekly_maintenance.sh >> /home/yclients/maintenance.log 2>&1

# –°–æ–∑–¥–∞–π—Ç–µ —Å–∫—Ä–∏–ø—Ç /home/yclients/weekly_maintenance.sh
#!/bin/bash
echo "üîß –ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω–æ–µ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ $(date)"

cd /home/yclients/yclients-parser
source venv/bin/activate

# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –±—Ä–∞—É–∑–µ—Ä–æ–≤ Playwright
echo "üåê –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –±—Ä–∞—É–∑–µ—Ä–æ–≤..."
playwright install chromium

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π Python –ø–∞–∫–µ—Ç–æ–≤
echo "üì¶ –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π –ø–∞–∫–µ—Ç–æ–≤..."
pip list --outdated

# –û—á–∏—Å—Ç–∫–∞ –ª–æ–≥–æ–≤ —Å—Ç–∞—Ä—à–µ 14 –¥–Ω–µ–π
echo "üóëÔ∏è –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –ª–æ–≥–æ–≤..."
find logs/ -name "*.log" -type f -mtime +14 -delete

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –¥–∏—Å–∫–∞
echo "üíæ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –¥–∏—Å–∫–∞:"
du -sh /home/yclients/yclients-parser/

# –ê—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç–∞—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
# sqlite3 –∏–ª–∏ –∑–∞–ø—Ä–æ—Å –∫ Supabase –¥–ª—è –∞—Ä—Ö–∏–≤–∞—Ü–∏–∏ —Å—Ç–∞—Ä—ã—Ö –∑–∞–ø–∏—Å–µ–π

echo "‚úÖ –û–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–æ"
```

---

## üìä **–ü–æ–ª–µ–∑–Ω—ã–µ –ö–æ–º–∞–Ω–¥—ã**

### **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –°–µ—Ä–≤–∏—Å–æ–º**
```bash
# –°—Ç–∞—Ç—É—Å
sudo systemctl status yclients-parser

# –ó–∞–ø—É—Å–∫/–æ—Å—Ç–∞–Ω–æ–≤–∫–∞/–ø–µ—Ä–µ–∑–∞–ø—É—Å–∫
sudo systemctl start yclients-parser
sudo systemctl stop yclients-parser
sudo systemctl restart yclients-parser

# –í–∫–ª—é—á–µ–Ω–∏–µ/–æ—Ç–∫–ª—é—á–µ–Ω–∏–µ –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫–∞
sudo systemctl enable yclients-parser
sudo systemctl disable yclients-parser

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
sudo journalctl -u yclients-parser -f
```

### **–†–∞–±–æ—Ç–∞ —Å –õ–æ–≥–∞–º–∏**
```bash
# –ü—Ä–æ—Å–º–æ—Ç—Ä –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –ª–æ–≥–æ–≤
sudo journalctl -u yclients-parser -n 100

# –ü–æ–∏—Å–∫ –æ—à–∏–±–æ–∫
sudo journalctl -u yclients-parser | grep -i error

# –û—á–∏—Å—Ç–∫–∞ –∂—É—Ä–Ω–∞–ª–æ–≤ systemd
sudo journalctl --vacuum-time=7d
```

### **API –ö–æ–º–∞–Ω–¥—ã**
```bash
# –°—Ç–∞—Ç—É—Å —Å–∏—Å—Ç–µ–º—ã
curl http://localhost:8000/

# –°—Ç–∞—Ç—É—Å –ø–∞—Ä—Å–µ—Ä–∞
curl http://localhost:8000/parser/status | jq

# –ó–∞–ø—É—Å–∫ –ø–∞—Ä—Å–∏–Ω–≥–∞ –≤—Ä—É—á–Ω—É—é
curl -X POST http://localhost:8000/parser/run

# –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö —Å —Ñ–∏–ª—å—Ç—Ä–∞–º–∏
curl "http://localhost:8000/api/booking-data?limit=10&venue=–ù–∞–≥–∞—Ç–∏–Ω—Å–∫–∞—è"

# –≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö
curl http://localhost:8000/export/csv > booking_data.csv
```

### **–î–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–∏–µ –ö–æ–º–∞–Ω–¥—ã**
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤
ps aux | grep python | grep yclients

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Ä—Ç–æ–≤
netstat -tlnp | grep :8000
ss -tlnp | grep :8000

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ—Å—É—Ä—Å–æ–≤
htop
iotop
free -h
df -h
```

---

## üÜò **–≠–∫—Å—Ç—Ä–µ–Ω–Ω—ã–µ –°–∏—Ç—É–∞—Ü–∏–∏**

### **–ü–æ–ª–Ω–æ–µ –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –°–∏—Å—Ç–µ–º—ã**
```bash
# 1. –û—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–µ—Ä–≤–∏—Å–∞
sudo systemctl stop yclients-parser

# 2. –°–æ–∑–¥–∞–Ω–∏–µ –±—ç–∫–∞–ø–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
cp /home/yclients/yclients-parser/.env /home/yclients/.env.backup

# 3. –ü–æ–ª–Ω–æ–µ –ø–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ
cd /home/yclients
rm -rf yclients-parser
git clone https://github.com/–≤–∞—à-–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å/yclients-parser.git
cd yclients-parser

# 4. –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
cp /home/yclients/.env.backup .env

# 5. –ü–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
python3 -m venv venv
source venv/bin/activate
pip install -r requirements.txt
playwright install chromium

# 6. –ü—Ä–æ–≤–µ—Ä–∫–∞
python3 -c "from src.parser.parser_router import ParserRouter; print('‚úÖ')"

# 7. –ó–∞–ø—É—Å–∫
sudo systemctl start yclients-parser
```

### **–ü—Ä–æ–±–ª–µ–º—ã —Å –í—ã—Å–æ–∫–æ–π –ù–∞–≥—Ä—É–∑–∫–æ–π**
```bash
# –ï—Å–ª–∏ —Å–∏—Å—Ç–µ–º–∞ –ø–æ—Ç—Ä–µ–±–ª—è–µ—Ç –º–Ω–æ–≥–æ —Ä–µ—Å—É—Ä—Å–æ–≤:

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤
ps aux --sort=-%cpu | head -10
ps aux --sort=-%mem | head -10

# –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤ –≤ systemd
sudo systemctl edit yclients-parser

# –î–æ–±–∞–≤–∏—Ç—å:
[Service]
MemoryLimit=512M
CPUQuota=50%
```

---

## üìû **–ö–æ–Ω—Ç–∞–∫—Ç—ã –∏ –ü–æ–¥–¥–µ—Ä–∂–∫–∞**

### **–°–∞–º–æ–¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞**
1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ `/home/yclients/quick_check.sh`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏: `sudo journalctl -u yclients-parser -n 50`
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ API: `curl http://localhost:8000/parser/status`

### **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**
- **README.md** - –æ—Å–Ω–æ–≤–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- **–†–ê–ó–í–ï–†–¢–´–í–ê–ù–ò–ï.md** - –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ —É—Å—Ç–∞–Ω–æ–≤–∫–µ
- **–õ–æ–≥–∏ —Å–∏—Å—Ç–µ–º—ã** - `/home/yclients/yclients-parser/logs/`

### **–ü–æ–ª–µ–∑–Ω—ã–µ –†–µ—Å—É—Ä—Å—ã**
- **Supabase Docs**: https://supabase.com/docs
- **Playwright Docs**: https://playwright.dev/
- **FastAPI Docs**: https://fastapi.tiangolo.com/

**üìß –ü—Ä–∏ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –ø—Ä–æ–±–ª–µ–º–∞—Ö —Å–æ–∑–¥–∞–π—Ç–µ –æ—Ç—á–µ—Ç —Å:**
- –†–µ–∑—É–ª—å—Ç–∞—Ç–æ–º `quick_check.sh`
- –õ–æ–≥–∞–º–∏ —Å–∏—Å—Ç–µ–º—ã (–ø–æ—Å–ª–µ–¥–Ω–∏–µ 100 —Å—Ç—Ä–æ–∫)
- –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π (–±–µ–∑ —Å–µ–∫—Ä–µ—Ç–æ–≤)
- –û–ø–∏—Å–∞–Ω–∏–µ–º –ø—Ä–æ–±–ª–µ–º—ã